---
slug: 24-04-25
title: 2024-04-25 记录
authors: Tao
---

### 每日 Todo

生活

- [ ] 早餐
- [x] 阅读（半小时以上）
- [x] 锻炼（20 分钟以上）
- [ ] 给父母打电话
- [ ] 早睡

工作与学习

- [x] 学习算法
- [x] 面试
- [x] 学习函数式编程
- [x] 刷论坛与博客，写随笔
- [x] 继续完成 react 核心源码学习

<!-- truncate -->

### 日记

学习与工作方面，很好地完成了今天制定的学习任务，并且通过了面试！

在生活方面虽然保持了锻炼和阅读，但是在作息和与父母打电话这两件事情上做的还是太差，需要逼迫自己去做到这两件事！另外就是在公司喝水不够多需要多喝水。

除此之外今天开始写随笔了，只要内容是针对阅读论坛和博客时看到的知识点进行了总结，总之今后要养成把看到的、想到的东西通过自己总结提炼后记录下来的习惯，任何知识点、想法都可以

### 随笔

#### headless 组件库思想与 shadcn 的解决方案

在基于组件库进行开发时，有些时候会面临自定义样式难、修改现有组件成本高的问题，目前存在如下解决方案

**headless 无样式组件库**

headless 组件库的核心思想是只提供组件的整体逻辑，而不提供任何样式

主要问题：所有样式都需要亲自完成，开发成本高；组件数量少

**基于 headless 进一步封装的组件库**

基于 headless 组件库存在的组件数量少的问题，很多公司基于 headless 的思想进行封装，产出了类似 radix ui 的组件库拥有更多的组件，但是样式开发问题依然存在很高的成本

**shadcn**

基于上述问题，shadcn 提出了解决方案，其核心思想如下：

- 组件不作为包，而是直接安装到本地作为源码，从而方便定制与开发
- 使用 tailwind 可以快速地进行样式的定制化开发
- 使用 class-variance-authrity(cva)工具进行分化定制，充分利用 tailwindcss，专注于样式封装

```typescript
import { cva } from 'class-variance-authority'
// 第一个参数是预置css，无论哪个分支都会有。variants 变体详情则需要自己定制不同的样式，变体包括意图主体 intent，大小等等
const button = cva(['font-semibold', 'border', 'rounded'], {
  variants: {
    intent: {
      primary: [
        'bg-blue-500',
        'text-white',
        'border-transparent',
        'hover:bg-blue-600'
      ],
      secondary: [
        'bg-white',
        'text-gray-800',
        'border-gray-400',
        'hover:bg-gray-100'
      ]
    },
    size: {
      small: ['text-sm', 'py-1', 'px-2'],
      medium: ['text-base', 'py-2', 'px-4']
    }
  },
  defaultVariants: { intent: 'primary', size: 'medium' }
})
```
