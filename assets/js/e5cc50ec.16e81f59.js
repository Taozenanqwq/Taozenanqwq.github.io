"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[380],{9491:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>u,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var i=t(4848),r=t(8453);const o={slug:"/fp/4",description:"\u4f7f\u7528Monad\uff08\u6d0b\u8471\uff09\u89e3\u51b3\u5d4c\u5957functor"},s=void 0,a={id:"fp/Monad",title:"Monad",description:"\u4f7f\u7528Monad\uff08\u6d0b\u8471\uff09\u89e3\u51b3\u5d4c\u5957functor",source:"@site/docs/fp/4-Monad.md",sourceDirName:"fp",slug:"/fp/4",permalink:"/note/fp/4",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{slug:"/fp/4",description:"\u4f7f\u7528Monad\uff08\u6d0b\u8471\uff09\u89e3\u51b3\u5d4c\u5957functor"},sidebar:"fp",previous:{title:"\u5bb9\u5668",permalink:"/note/fp/3"}},u={},l=[{value:"\u7ec3\u4e60",id:"\u7ec3\u4e60",level:3}];function c(n){const e={code:"code",h3:"h3",pre:"pre",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h3,{id:"\u7ec3\u4e60",children:"\u7ec3\u4e60"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:"// \u7ec3\u4e60 1\n// ==========\n// \u7ed9\u5b9a\u4e00\u4e2a user\uff0c\u4f7f\u7528 safeProp \u548c map/join \u6216 chain \u5b89\u5168\u5730\u83b7\u53d6 sreet \u7684 name\n\nvar safeProp = _.curry(function (x, o) {\n  return Maybe.of(o[x])\n})\nvar user = {\n  id: 2,\n  name: 'albert',\n  address: {\n    street: {\n      number: 22,\n      name: 'Walnut St'\n    }\n  }\n}\n\nvar ex1 = undefined\n\n// \u7ec3\u4e60 2\n// ==========\n// \u4f7f\u7528 getFile \u83b7\u53d6\u6587\u4ef6\u540d\u5e76\u5220\u9664\u76ee\u5f55\uff0c\u6240\u4ee5\u8fd4\u56de\u503c\u4ec5\u4ec5\u662f\u6587\u4ef6\uff0c\u7136\u540e\u4ee5\u7eaf\u7684\u65b9\u5f0f\u6253\u5370\u6587\u4ef6\n\nvar getFile = function () {\n  return new IO(function () {\n    return __filename\n  })\n}\n\nvar pureLog = function (x) {\n  return new IO(function () {\n    console.log(x)\n    return 'logged ' + x\n  })\n}\n\nvar ex2 = undefined\n\n// \u7ec3\u4e60 3\n// ==========\n// \u4f7f\u7528 getPost() \u7136\u540e\u4ee5 post \u7684 id \u8c03\u7528 getComments()\nvar getPost = function (i) {\n  return new Task(function (rej, res) {\n    setTimeout(function () {\n      res({ id: i, title: 'Love them tasks' })\n    }, 300)\n  })\n}\n\nvar getComments = function (i) {\n  return new Task(function (rej, res) {\n    setTimeout(function () {\n      res([\n        { post_id: i, body: 'This book should be illegal' },\n        { post_id: i, body: 'Monads are like smelly shallots' }\n      ])\n    }, 300)\n  })\n}\n\nvar ex3 = undefined\n\n// \u7ec3\u4e60 4\n// ==========\n// \u7528 validateEmail\u3001addToMailingList \u548c emailBlast \u5b9e\u73b0 ex4 \u7684\u7c7b\u578b\u7b7e\u540d\n\n//  addToMailingList :: Email -> IO([Email])\nvar addToMailingList = (function (list) {\n  return function (email) {\n    return new IO(function () {\n      list.push(email)\n      return list\n    })\n  }\n})([])\n\nfunction emailBlast(list) {\n  return new IO(function () {\n    return 'emailed: ' + list.join(',')\n  })\n}\n\nvar validateEmail = function (x) {\n  return x.match(/\\S+@\\S+\\.\\S+/)\n    ? new Right(x)\n    : new Left('invalid email')\n}\n\n//  ex4 :: Email -> Either String (IO String)\nvar ex4 = undefined\n"})})]})}function d(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>a});var i=t(6540);const r={},o=i.createContext(r);function s(n){const e=i.useContext(o);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),i.createElement(o.Provider,{value:e},n.children)}}}]);